<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Turnos online ¬∑ Demo Savia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Mini app de turnos Savia para est√©ticas, peluquer√≠as y bienestar. Demo lista para conectar a tu base de datos.">

  <!-- Tipograf√≠as Savia -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Cormorant+Garamond:wght@500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --verde-savia:#4BAF8C;
      --verde-claro:#A7E3CF;
      --arena:#F6E6D8;
      --durazno:#FFBFA3;
      --texto:#111827;
      --texto-suave:#6B7280;
      --fondo:#F9FAFB;
      --card:#FFFFFF;
      --borde:#E5E7EB;
      --accent:#4BAF8C; /* se actualiza desde JS seg√∫n el negocio */
    }

    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:"Poppins",system-ui,-apple-system,sans-serif;
      background:radial-gradient(circle at top,#E9FFF5,#FDFCFB);
      color:var(--texto);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:1.2rem .8rem;
    }

    .phone-shell{
      width:100%;
      max-width:430px;
      border-radius:32px;
      padding:.6rem;
      background:linear-gradient(135deg,#E0F7EE,#FCE7F3);
      box-shadow:0 25px 60px rgba(15,23,42,.25);
    }

    .phone-body{
      background:var(--fondo);
      border-radius:26px;
      padding:1rem .9rem 1.1rem;
      position:relative;
      overflow:hidden;
    }

    .pill-top{
      position:absolute;
      top:.55rem;
      left:50%;
      transform:translateX(-50%);
      width:110px;
      height:10px;
      border-radius:999px;
      background:#E5E7EB;
    }

    .demo-badge{
      margin-top:1.1rem;
      font-size:.75rem;
      color:#022C22;
      background:rgba(16,185,129,.16);
      border-radius:999px;
      padding:.2rem .7rem;
      display:inline-flex;
      align-items:center;
      gap:.35rem;
    }
    .demo-badge span{
      font-size:1rem;
    }

    header.hero{
      margin-top:.75rem;
      display:flex;
      gap:.7rem;
      align-items:center;
    }

    .hero-logo{
      width:64px;
      height:64px;
      border-radius:22px;
      background:linear-gradient(135deg,var(--accent),#1D7874);
      display:flex;
      align-items:center;
      justify-content:center;
      color:#fff;
      font-family:"Cormorant Garamond",serif;
      font-size:2.1rem;
      font-weight:600;
      box-shadow:0 16px 40px rgba(15,118,110,.45);
      overflow:hidden;
    }
    .hero-logo img{
      width:100%;
      height:100%;
      object-fit:cover;
    }

    .hero-main h1{
      font-size:1.15rem;
      margin-bottom:.1rem;
    }
    .hero-main p.sub{
      font-size:.8rem;
      color:var(--texto-suave);
    }
    .hero-main .tag{
      display:inline-flex;
      align-items:center;
      gap:.3rem;
      font-size:.72rem;
      padding:.15rem .6rem;
      border-radius:999px;
      background:rgba(59,130,246,.06);
      color:#1D4ED8;
      margin-top:.25rem;
    }

    .meta{
      margin-top:.6rem;
      display:flex;
      justify-content:space-between;
      gap:.4rem;
      font-size:.75rem;
      color:var(--texto-suave);
      flex-wrap:wrap;
    }

    .btn-whatsapp{
      margin-top:.6rem;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:.35rem;
      background:#22C55E;
      color:#052e16;
      font-size:.82rem;
      font-weight:500;
      padding:.45rem .9rem;
      border-radius:999px;
      text-decoration:none;
      box-shadow:0 10px 28px rgba(22,163,74,.5);
    }
    .btn-whatsapp::before{
      content:"üü¢";
      font-size:.85rem;
    }

    .sections{
      margin-top:1rem;
      display:flex;
      flex-direction:column;
      gap:.8rem;
    }

    .card{
      background:var(--card);
      border-radius:18px;
      padding:.75rem .75rem .8rem;
      border:1px solid var(--borde);
      box-shadow:0 10px 25px rgba(148,163,184,.18);
    }

    .card-title{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:.5rem;
      margin-bottom:.4rem;
    }
    .card-title h2{
      font-size:.9rem;
    }
    .card-title span{
      font-size:.75rem;
      color:var(--texto-suave);
    }

    .services-list{
      display:flex;
      flex-direction:column;
      gap:.5rem;
      max-height:190px;
      overflow:auto;
      padding-right:.15rem;
    }

    .service-item{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:.4rem;
      padding:.45rem .5rem;
      border-radius:14px;
      background:linear-gradient(135deg,#FFFFFF,#F3F4FF);
      border:1px solid #E5E7EB;
      font-size:.8rem;
    }
    .service-item strong{
      display:block;
      margin-bottom:.05rem;
    }
    .service-meta{
      font-size:.75rem;
      color:var(--texto-suave);
    }
    .service-price{
      font-size:.8rem;
      font-weight:600;
    }

    form{
      display:flex;
      flex-direction:column;
      gap:.5rem;
      margin-top:.35rem;
    }

    label{
      display:block;
      font-size:.75rem;
      margin-bottom:.1rem;
    }

    input, select{
      width:100%;
      border-radius:12px;
      border:1px solid var(--borde);
      padding:.42rem .55rem;
      font-size:.8rem;
      background:#F9FAFB;
      outline:none;
      transition:border-color .15s,box-shadow .15s,background .15s;
    }

    input:focus, select:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 1px rgba(74,222,128,.4);
      background:#FFFFFF;
    }

    .btn-confirm{
      margin-top:.3rem;
      border:none;
      border-radius:999px;
      padding:.5rem .9rem;
      font-size:.82rem;
      font-weight:500;
      cursor:pointer;
      color:#fff;
      background:linear-gradient(135deg,var(--accent),#15803D);
      box-shadow:0 12px 30px rgba(22,101,52,.7);
    }
    .btn-confirm:hover{
      filter:brightness(1.05);
    }

    .info-extra{
      font-size:.76rem;
      color:var(--texto-suave);
      margin-top:.2rem;
    }

    footer{
      margin-top:.8rem;
      font-size:.7rem;
      color:var(--texto-suave);
      text-align:center;
    }
    footer span{
      font-weight:500;
      color:var(--accent);
    }

    @media (max-width:480px){
      body{
        padding:.9rem .4rem;
      }
      .phone-shell{
        max-width:100%;
      }
    }
  </style>
</head>
<body>

<div class="phone-shell">
  <div class="phone-body">
    <div class="pill-top"></div>

    <div class="demo-badge">
      <span>‚ú®</span> Demo Savia ¬∑ Turnos online
    </div>

    <header class="hero">
      <div class="hero-logo" id="hero-logo">
        <span id="hero-logo-letter">S</span>
      </div>
      <div class="hero-main">
        <h1 id="business-name">Nombre del negocio</h1>
        <p class="sub" id="business-desc">Descripci√≥n corta del emprendimiento.</p>
        <div class="tag" id="business-tag">Belleza &amp; Est√©tica</div>
      </div>
    </header>

    <div class="meta">
      <div>
        <div id="business-address">Direcci√≥n ¬∑ Ciudad</div>
        <div id="business-hours">Horarios de atenci√≥n</div>
      </div>
      <div id="business-prof" style="text-align:right;">
        Profesional
      </div>
    </div>

    <a href="#" target="_blank" rel="noopener" id="wa-link" class="btn-whatsapp">
      Escribir por WhatsApp
    </a>

    <section class="sections">
      <!-- Lista de servicios -->
      <article class="card">
        <div class="card-title">
          <h2>Servicios</h2>
          <span id="services-count">0 servicios cargados</span>
        </div>
        <div class="services-list" id="services-list">
          <!-- servicios se insertan por JS -->
        </div>
      </article>

      <!-- Turnero -->
      <article class="card">
        <div class="card-title">
          <h2>Reservar turno</h2>
          <span>Demo en vivo</span>
        </div>

        <form id="booking-form">
          <div>
            <label for="service-select">Servicio</label>
            <select id="service-select" required>
              <!-- opciones por JS -->
            </select>
          </div>

          <div>
            <label for="bk-name">Nombre de la clienta</label>
            <input type="text" id="bk-name" placeholder="Ej. Mar√≠a L√≥pez" required>
          </div>

          <div>
            <label for="bk-phone">Tel√©fono / WhatsApp</label>
            <input type="tel" id="bk-phone" placeholder="Ej. 2613 38-7305" required>
          </div>

          <div>
            <label for="bk-date">Fecha</label>
            <input type="date" id="bk-date" required>
          </div>

          <div>
            <label for="bk-time">Horario</label>
            <input type="time" id="bk-time" required>
          </div>

          <button type="submit" class="btn-confirm">Confirmar turno (demo)</button>
        </form>

        <p class="info-extra">
          En la versi√≥n real, este bot√≥n guarda el turno en tu agenda Savia y
          puede disparar un mensaje autom√°tico de confirmaci√≥n.
        </p>
      </article>
    </section>

    <footer>
      <p>
        <span>Savia</span> organiza tu tiempo, vos hac√©s crecer tu negocio.
      </p>
    </footer>
  </div>
</div>

<script>
  /*
    CONFIG DE EJEMPLO
    En producci√≥n, esta config la tra√©s de tu base de datos.
    Tambi√©n pod√©s setear window.SAVIA_CONFIG desde otro script y
    este archivo la va a usar.
  */
  const demoConfig = {
    slug: "estetica-bellezza",
    colorPrincipal: "#4BAF8C",
    nombreNegocio: "Est√©tica Bellezza",
    profesional: "Sof√≠a L√≥pez ¬∑ Cosmiatra",
    rubro: "Belleza & Est√©tica",
    descripcion: "Faciales, corporales y relax para que tus clientas se vayan renovadas.",
    whatsapp: "2613387305",
    direccion: "San Mart√≠n 123, local 4",
    ciudad: "Maip√∫ ¬∑ Mendoza",
    horarios: "Lunes a viernes 9 a 20 hs ¬∑ S√°bados 9 a 13 hs",
    logoUrl: "", // si lo dej√°s vac√≠o usa la letra
    servicios: [
      { nombre:"Sesi√≥n facial limpieza + hidrataci√≥n", duracion:45, precio:8000 },
      { nombre:"Color + corte y peinado", duracion:90, precio:14500 },
      { nombre:"Masaje relajante cuerpo completo", duracion:60, precio:10000 },
      { nombre:"Belleza de manos (semipermanente)", duracion:50, precio:7500 }
    ]
  };

  const config = window.SAVIA_CONFIG || demoConfig;

  function initApp(){
    // Actualizar color principal
    document.documentElement.style.setProperty("--accent", config.colorPrincipal || "#4BAF8C");

    // Logo
    const logoBox = document.getElementById("hero-logo");
    const logoLetter = document.getElementById("hero-logo-letter");
    if (config.logoUrl && config.logoUrl.trim() !== "") {
      const img = document.createElement("img");
      img.src = config.logoUrl;
      img.alt = "Logo " + (config.nombreNegocio || "");
      img.onerror = () => { img.style.display = "none"; };
      logoBox.innerHTML = "";
      logoBox.appendChild(img);
    } else {
      logoLetter.textContent = (config.nombreNegocio || "S").charAt(0).toUpperCase();
    }

    // Textos principales
    document.getElementById("business-name").textContent =
      config.nombreNegocio || "Nombre del negocio";

    document.getElementById("business-desc").textContent =
      config.descripcion || "Descripci√≥n corta del emprendimiento.";

    document.getElementById("business-tag").textContent =
      config.rubro || "Emprendimiento con turnos";

    document.getElementById("business-address").textContent =
      (config.direccion || "Direcci√≥n no cargada") +
      (config.ciudad ? " ¬∑ " + config.ciudad : "");

    document.getElementById("business-hours").textContent =
      config.horarios || "Horarios a confirmar";

    document.getElementById("business-prof").textContent =
      config.profesional || "";

    // WhatsApp
    const tel = (config.whatsapp || "").replace(/[^\d]/g,"");
    const waLink = document.getElementById("wa-link");
    if (tel) {
      waLink.href = "https://wa.me/54" + tel +
        "?text=" + encodeURIComponent("Hola, vengo de tu turnero Savia y quiero un turno üòä");
    } else {
      waLink.href = "#";
    }

    // Servicios
    const servicesList = document.getElementById("services-list");
    const servicesCount = document.getElementById("services-count");
    const selectService = document.getElementById("service-select");

    servicesList.innerHTML = "";
    selectService.innerHTML = "";

    if (!config.servicios || config.servicios.length === 0) {
      servicesCount.textContent = "0 servicios cargados";
      servicesList.innerHTML =
        '<p style="font-size:.78rem;color:#6B7280;">Todav√≠a no hay servicios configurados. ' +
        'En el panel Savia pod√©s cargarlos una sola vez.</p>';
      const opt = document.createElement("option");
      opt.value = "";
      opt.textContent = "Configurar servicios en Savia";
      selectService.appendChild(opt);
      selectService.disabled = true;
    } else {
      servicesCount.textContent = config.servicios.length + " servicios";
      selectService.disabled = false;

      config.servicios.forEach((s, idx) => {
        // Tarjeta
        const item = document.createElement("div");
        item.className = "service-item";
        item.innerHTML = `
          <div>
            <strong>${s.nombre}</strong>
            <div class="service-meta">
              ${s.duracion ? s.duracion + " min ¬∑ " : ""}Turno individual
            </div>
          </div>
          <div class="service-price">
            ${s.precio ? "$" + s.precio.toLocaleString("es-AR") : "Consultar"}
          </div>
        `;
        servicesList.appendChild(item);

        // Opci√≥n en select
        const opt = document.createElement("option");
        opt.value = idx;
        opt.textContent = s.nombre;
        selectService.appendChild(opt);
      });
    }

    // M√≠nimo de fecha = hoy
    const inputDate = document.getElementById("bk-date");
    const today = new Date();
    const yyyy = today.getFullYear();
    const mm = String(today.getMonth()+1).padStart(2,"0");
    const dd = String(today.getDate()).padStart(2,"0");
    inputDate.min = `${yyyy}-${mm}-${dd}`;

    // Submit del turnero (demo)
    const form = document.getElementById("booking-form");
    form.addEventListener("submit",(e)=>{
      e.preventDefault();
      if (selectService.disabled) {
        alert("Config demo: primero hay que cargar servicios en Savia.");
        return;
      }

      const idx = parseInt(selectService.value,10);
      const servicio = config.servicios[idx];
      const nombre = document.getElementById("bk-name").value.trim();
      const phone = document.getElementById("bk-phone").value.trim();
      const fecha = document.getElementById("bk-date").value;
      const hora = document.getElementById("bk-time").value;

      const turno = {
        negocioSlug: config.slug,
        negocio: config.nombreNegocio,
        servicio: servicio ? servicio.nombre : "",
        nombreCliente: nombre,
        telefono: phone,
        fecha,
        hora
      };

      console.log("Turno DEMO listo para enviar al backend:", turno);

      alert(
        "Demo Savia:\n\n" +
        "Ac√° ir√≠a un fetch() a tu API para guardar el turno en la base de datos.\n\n" +
        "Negocio: " + turno.negocio + "\n" +
        "Servicio: " + turno.servicio + "\n" +
        "Cliente: " + turno.nombreCliente + "\n" +
        "Fecha: " + turno.fecha + " ¬∑ " + turno.hora
      );

      form.reset();
      selectService.selectedIndex = 0;
      inputDate.min = `${yyyy}-${mm}-${dd}`; // por si cambi√≥ el d√≠a
    });
  }

  document.addEventListener("DOMContentLoaded", initApp);
</script>
</body>
</html>
